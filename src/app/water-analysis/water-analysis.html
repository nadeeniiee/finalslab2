<div class="module-container">
    
    <div class="form-section">
        <h1>{{ title() }}</h1>
        <hr>
  
        <label>Date Sample Taken</label>
        <input type="date" [value]="date()"
        (input)="date.set($any($event.target).value)" placeholder="When the sample was taken">

        <label>Source Address</label>
        <input type="text" [value]="sourceAddress()"
        (input)="sourceAddress.set($any($event.target).value)" placeholder="Where the water was collected">

        <label>Water Status</label>
        <input type="text" [value]="waterStatus()"
        (input)="waterStatus.set($any($event.target).value)" placeholder="Potable / Not Potable">

        <label>Remarks</label>
        <textarea [value]="remarks()"
        (input)="remarks.set($any($event.target).value)" placeholder="Explanation for the result"></textarea>


        <button (click)="addRecord()" class="primary-btn" style="width: 100%;">
            {{ editingId() ? 'Update Record' : 'Save' }}
        </button>
    </div>

    <div class="list-section">
        <h2>Water Analysis Results</h2>
        <table>
            <thead>
                <tr>
                    <th>Date Sample Taken</th>
                    <th>Source Address</th>
                    <th>Water Status</th>
                    <th>Remarks</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let record of records">
                    <td>{{ record.date }}</td>
                    <td>{{ record.sourceAddress }}</td>
                    <td>{{ record.waterStatus }}</td>
                    <td>{{ record.remarks }}</td>
                    <td>
                        <button (click)="startEditRecord(record.id, record.date, record.sourceAddress, record.waterStatus, record.remarks)" class="edit-btn">Edit</button>
                        <button (click)="deleteRecord(record.id)" class="delete-btn">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <router-outlet/>
</div>